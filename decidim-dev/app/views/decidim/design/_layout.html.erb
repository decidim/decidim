<% @files = Dir.glob("../decidim-dev/app/views/decidim/design/*").select { |fn| File.directory?(fn) } %>

<div class="grid md:grid-cols-12 container before:content-[''] before:absolute before:inset-0 before:-z-10 before:w-1/2 before:bg-background">
  <aside class="col-span-2 py-12 pr-16">
    <ul class="sticky top-12 space-y-4">
      <% @files.each do |file| %>
        <li class="text-black cursor-pointer flex items-center gap-1">
          <%= link_to File.basename(file), url_for(File.basename(file)), class: "hover:underline first-letter:capitalize" %>
          <%= icon "arrow-right-line", class: "w-3 h-3 fill-current" %>
        </li>
      <% end %>
    </ul>
  </aside>

  <main class="bg-white col-span-8 py-12 px-16 space-y-16 [&>*]:pt-12 first:[&>*]:pt-0">
    <%= yield %>
  </main>

  <aside class="bg-white col-span-2 py-12 pl-16">
    <div class="sticky top-12">
      <form action="" class="relative mb-12">
        <input type="search" placeholder="Search" class="block bg-transparent w-full px-4 py-1.5">
        <button class="absolute right-2 inset-y-2 text-secondary">
          <%= icon "search-line", class: "w-4 h-4 fill-current" %>
        </button>
      </form>

      <nav class="space-y-2 text-sm [&>*]:block [&_a]:text-secondary [&_a]:underline">
        <strong class="text-md mb-4">On this page</strong>
        <%= yield :toc %>
      </nav>
    </div>
  </main>
</div>
