<% if @collaborative_draft.access_requestors.presence && allowed_to?(:edit, :collaborative_draft, collaborative_draft: @collaborative_draft) %>
  <div class="card extra">
    <div class="definition-data__item">
      <span class="definition-data__title">
        <%= t("title", scope: "decidim.proposals.collaborative_drafts.requests.collaboration_requests") %>
      </span>
    </div>
    <% @collaborative_draft.access_requestors.each do |requestor| %>
      <div class="definition-data__item expanded">
        <%= cell "decidim/author", present(requestor), options: { extra_classes: ["author-data--small"] }, has_actions: false %>

        <div>
          <%= button_to accept_request_btn_lbl, request_accept_collaborative_draft_path(@collaborative_draft, user_id: requestor.id), class: "button hollow secondary small" %>

          <%= button_to request_reject_collaborative_draft_path(@collaborative_draft, user_id: requestor.id), title: reject_request_btn_lbl do %>
            <%= icon "x", class: "icon--small muted ml-xs" %>
          <% end %>
        </div>
      </div>
    <% end %>
  </div>
<% end %>
