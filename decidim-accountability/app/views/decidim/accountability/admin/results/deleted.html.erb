<% add_decidim_page_title(t(".title")) %>

<div class="card">
  <div class="item_show__header">
    <h1 class="item_show__header-title">
      <% if parent_result %>
        <%= "#{translated_attribute(parent_result.title)} > " %>
      <% end %>
      <%= t(".title") %>
    </h1>
  </div>

  <%= admin_filter_selector(:results) %>
  <div class="table-scroll">
    <table class="table-list">
      <thead>
      <tr>
        <th>
          <%= sort_link(query, :id, t("models.result.fields.id", scope: "decidim.accountability"), default_order: :desc ) %>
        </th>
        <th class="!text-left">
          <%= sort_link(query, :title, t("models.result.fields.title", scope: "decidim.accountability")) %>
        </th>
        <th>
          <%= sort_link(query, :category_name, t("models.result.fields.category", scope: "decidim.accountability") ) %>
        </th>
        <% if resource_with_scopes_enabled? %>
          <th>
            <%= sort_link(query, :scope_name, t("models.result.fields.scope", scope: "decidim.accountability") ) %>
          </th>
        <% end %>
        <th>
          <%= sort_link(query, :status_name, t("models.result.fields.status", scope: "decidim.accountability") ) %>
        </th>
        <th>
          <%= sort_link(query, :progress, t("models.result.fields.progress", scope: "decidim.accountability") ) %>
        </th>
        <th>
          <%= sort_link(query, :created_at, t("models.result.fields.created_at", scope: "decidim.accountability") ) %>
        </th>
        <th><%= t("actions.title", scope: "decidim.accountability") %></th>
      </tr>
      </thead>
      <tbody>
      <% deleted_results.each do |result| %>
        <%= render partial: "decidim/accountability/admin/results/result-tr", locals: { result:, view: :deleted } %>
      <% end %>
      </tbody>
    </table>
  </div>
</div>

<%= decidim_paginate deleted_results %>
