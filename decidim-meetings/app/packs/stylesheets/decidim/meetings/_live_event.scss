.meeting-polls{
  &__body{
    @apply flex flex-col min-h-screen;
  }

  &__header{
    @apply flex items-center justify-between p-2.5 bg-background border;
  }

  &__main{
    @apply flex grow items-stretch;
  }

  &__iframe{
    @apply flex grow bg-gray-2 [&>*]:grow [&>*]:border-0;
  }

  &__aside{
    @apply flex-none bg-background-2;

    counter-reset: question;

    &.is-open{
      @apply w-1/5 [&+div]:w-4/5;

      // shrink iframe when there's two panels
      & + & + div{
        @apply w-3/5;
      }

      & + &{
        @apply border-l border-l-background;
      }
    }
  }

  &__question{
    @apply bg-white;

    summary{
      @apply p-4 cursor-pointer font-bold text-secondary text-md transition border-b border-b-background hover:bg-background;

      transition: background-color .2s ease-in-out;

      &::after{
        counter-increment: question;
        content: "#" counter(question);
      }

      & ~ *{
        @apply p-4;

        // dynamic content
        > :first-child{
          @apply font-bold;
        }

        label{
          @apply flex items-baseline cursor-pointer;
        }

        label + label{
          @apply mt-4;
        }
        // end dynamic content
      }
    }

    &[open] .meeting-polls__answer--bar > *{
      opacity: 1;
      transform: translateX(0);
    }

    &.is-new{
      animation: animateHighlight 5s ease-in-out forwards;
    }

    @keyframes animateHighlight{
      0%,
      80%{
        background-color: rgba(var(--warning-rgb), .1);
      }
    }
  }

  &__question--admin{
    summary ~ *{
      border-top: 1px solid #e8e8e8;
      background-color: #f6f6f6;
      padding: 1rem;

      a{
        text-decoration: underline;
        // margin-bottom: $global_margin;
        display: block;
      }

      > :first-child{
        font-weight: normal;
      }
    }
  }

  // &__answer{
  //   display: flex;
  //   align-items: center;

  //   &--value{
  //     flex: 0 0 15%;
  //     font-weight: bold;
  //   }

  //   &--bar{
  //     flex: 0 0 85%;
  //     height: 10px;
  //     overflow: hidden;

  //     > *{
  //       background-color: var(--primary);
  //       height: 100%;
  //       opacity: 0;
  //     }
  //   }
  // }

  // vertical flow
  label + &__answer + label{
    @apply mt-6;
  }

  &__admin-label{
    @apply p-4 bg-secondary text-white font-bold text-sm;
  }

  &__admin-action{
    @apply py-2 flex items-center border-t-background [&>*]:flex-none first:[&>*]:w-2/5 last:[&>*]:w-3/5;
  }
}
