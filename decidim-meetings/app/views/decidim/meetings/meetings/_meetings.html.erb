<div class="row small-up-1 medium-up-2 card-grid">
  <% meetings.each do |meeting| %>
    <div class="column">
      <article class="card card--meeting">
        <div class="card__content">
          <%= link_to meeting, class: "card__link" do %>
            <h5 class="card__title"><%= translated_attribute meeting.title %></h5>
          <% end %>
          <div class="card__datetime">
            <div class="card__datetime__date">
              <%= l meeting.start_time, format: "%d" %> <span class="card__datetime__month"><%= l meeting.start_time, format: "%B" %></span>
            </div>
            <div class="card__datetime__time">
              <%= meeting.start_time.strftime("%H:%M") %> - <%= meeting.end_time.strftime("%H:%M") %>
            </div>
          </div>
          <%== translated_attribute meeting.description %>
          <% if meeting.category.present? || meeting.scope.present? %>
            <ul class="tags tags--meeting" >
              <% if meeting.category.present? %>
                <li><a><%= translated_attribute meeting.category.name %></a></li>
              <% end %>
              <% if meeting.scope.present? %>
                <li><a><%= meeting.scope.name %></a></li>
              <% end %>
            </ul>
          <% end %>
          <div class="address card__extra">
            <div class="address__icon">
              <%= icon "meetings", removeIconClass: true, width: 40, height: 70 %>
            </div>
            <%= render partial: 'address_details', locals: { meeting: meeting } %>
          </div>
        </div>
      </article>
    </div>
  <% end %>
</div>
<%
  # Kaminari uses url_for to generate the url, but this doesn't play nice with our engine system
  # and unless we remove these params they are added again as query string ðŸ˜©
  params.delete("participatory_process_id")
  params.delete("feature_id")
%>
<%= paginate meetings, theme: "decidim", params: { order_start_time: params[:order_start_time], scope_id: params[:scope_id] } %>
