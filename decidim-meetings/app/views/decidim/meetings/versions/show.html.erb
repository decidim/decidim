<% content_for :aside do %>
  <%= cell(
    "decidim/versions_list",
    versioned_resource,
    version_path: proc { |version_index| url_for(action: :show, id: version_index) },
    i18n_scope: "decidim.meetings.versions"
  ) %>
<% end %>

<% nav_paths = nav_indexes(versioned_resource, params[:id]).transform_values { |index| url_for(action: :show, id: index) } %>

<%= render layout: "layouts/decidim/shared/layout_item", locals: { back_path: meetings_path }.merge(nav_paths) do %>
  <%= cell(
    "decidim/version",
    current_version,
    index: params[:id],
    versioned_resource: versioned_resource,
    path: proc { |extra_params| url_for(action: :show, id: params[:id], **extra_params) },
    versions_path: proc { url_for(action: :index) },
    i18n_scope: "decidim.meetings.versions"
  ) %>
<% end %>
