<style>
  #minimap-wrapper {
    width: 100%;
    padding-bottom: 75%;
    position: relative;
  }
  
  #minimap {
    padding: 1rem;
    position: absolute;
    top: 0; bottom: 0; left: 0; right: 0;
    display: grid;
    grid-template-areas: "tab blank blank"
                        "header header header"
                        "subheader subheader subheader"
                        "body body body"
                        "footer footer footer";
    grid-template-columns: 1fr 1fr 1fr;
    grid-template-rows: 20px 64px 24px 1fr 64px;
  }

  #minimap img, #minimap .placeholder {
    width: auto;
    max-height: 80%;
    box-sizing: border-box;
    position: relative;
    display: inline-block;
  }

  #minimap #tab {
    grid-area: tab;
    background: #ccc;
    display: flex;
  }

  #tab span {
    font-size: 10px;
    margin: 4px;
  }

  #minimap #body {
    grid-area: body;
    background: #ccc;
  }

  #header, #footer {
    background: #000;
    display: flex;
    justify-content: space-between;
  }

  #header {
    grid-area: header;
  }

  #subheader {
    grid-area: subheader;
    background: #999;
  }

  #footer {
    grid-area: footer;
  }

  #favicon {
    margin: 4px;
  }

  #logo {
    margin: auto 0;
  }

  #official_img_header, #official_img_footer {
    margin: auto 0;
  }

  #minimap .placeholder {
    background:  <%= current_organization.colors["primary"] %>;
  }

  #minimap .placeholder span {
    color: white;
    font-size: 10px;
    margin: 4px;
    line-height: 12px;
  }

</style>

<% size_factor = 0.3 %>
<div id="minimap-wrapper">
  <div id="minimap">
    <div id="tab">
      <% if current_organization.favicon.present? %>
        <%= image_tag current_organization.favicon.url, id: "favicon" %>
      <% else %>
        <%= content_tag :div, nil, { id: "favicon", class: "placeholder", style: "width: #{image_width(current_organization, :favicon) * size_factor }px; height: #{image_height(current_organization, :favicon) * size_factor }px;"} do %>
        <% end %>
      <% end %>
      
      <span> &lt; <%= t("favicon", scope: "activemodel.attributes.organization") %></span>
    </div>

    <div id="header">
      <% if current_organization.logo.present? %>
        <%= image_tag current_organization.logo.url, id: "logo" %>
      <% else %>
        <%= content_tag :div, nil, { id: "logo", class: "placeholder", style: "width: #{image_width(current_organization, :logo) * size_factor }px; height: #{image_height(current_organization, :logo) * size_factor }px;"} do %>
          <span><%= t("logo", scope: "activemodel.attributes.organization") %></span>
        <% end %>
      <% end %>

      <% if current_organization.official_img_header.present? %>
        <%= image_tag current_organization.official_img_header.url, id: "official_img_header" %>
      <% else %>
        <%= content_tag :div, nil, { id: "official_img_header", class: "placeholder", style: "width: #{image_width(current_organization, :official_img_header) * size_factor }px; height: #{image_height(current_organization, :official_img_header) * size_factor }px;"} do %>
          <span><%= t("official_img_header", scope: "activemodel.attributes.organization") %></span>
        <% end %>
      <% end %>

    </div>

    <div id="subheader"></div>
    <div id="body"></div>

    <div id="footer">
      <% if current_organization.official_img_footer.present? %>
        <%= image_tag current_organization.official_img_footer.url, id: "official_img_footer" %>
      <% else %>
        <%= content_tag :div, nil, { id: "official_img_footer", class: "placeholder", style: "width: #{image_width(current_organization, :official_img_footer) * size_factor }px; height: #{image_height(current_organization, :official_img_footer) * size_factor }px;"} do %>
        <span><%= t("official_img_footer", scope: "activemodel.attributes.organization") %></span>
        <% end %>
      <% end %>
    </div>
  </div>
</div>