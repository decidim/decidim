<div class="add-comment">
  <% if user_signed_in? %>
    <% if alignment_enabled? %>
      <div class="opinion-toggle button-group comment__opinion-container">
        <span class="py-1.5"><%= t("decidim.components.add_comment_form.opinion.label") %></span>
        <button aria-pressed="false" class="button button__sm button__text-secondary opinion-toggle--ok" data-selected-label="<%= t("decidim.components.add_comment_form.opinion.positive_selected") %>">
          <%= icon "thumb-up-line" %>
          <%= icon "thumb-up-fill" %>
          <span class="sr-only"><%= t("decidim.components.add_comment_form.opinion.positive") %></span>
        </button>
        <button aria-pressed="true" class="button button__sm button__text-secondary opinion-toggle--meh is-active" data-selected-label="<%= t("decidim.components.add_comment_form.opinion.neutral_selected") %>">
          <span><%= t("decidim.components.add_comment_form.opinion.neutral") %></span>
        </button>
        <button aria-pressed="false" class="button button__sm button__text-secondary opinion-toggle--ko" data-selected-label="<%= t("decidim.components.add_comment_form.opinion.negative_selected") %>">
          <%= icon "thumb-down-line" %>
          <%= icon "thumb-down-fill" %>
          <span class="sr-only"><%= t("decidim.components.add_comment_form.opinion.negative") %></span>
        </button>
        <div role="alert" aria-live="assertive" aria-atomic="true" class="selected-state sr-only"></div>
      </div>
    <% end %>
    <%== cell("decidim/comments/comment_form", model, root_depth: root_depth) %>
  <% else %>
    <p>
      <span>
        <%== t(
          "decidim.components.add_comment_form.account_message",
          sign_in_url: decidim.new_user_session_path,
          sign_up_url: decidim.new_user_registration_path
        ) %>
      </span>
    </p>
  <% end %>
</div>
