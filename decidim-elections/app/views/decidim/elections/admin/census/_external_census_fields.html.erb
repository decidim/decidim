<div class="card-section">
  <% if election.voters.exists? %>
    <div class="row column">
      <%= cell "decidim/announcement", t("decidim.elections.admin.census.external_census_fields.uploaded_data", election_title: translated_attribute(election.title)), callout_class: "success" %>
    </div>
  <% else %>
    <div class="row column font-semibold pb-4"><%= t(".upload_new_census") %></div>
    <div class="row column">
      <p class="mb-2"><%= t(".info_html") %></p>
      <pre class="code-block"><%= t(".example") %></pre>
    </div>
    <div class="row column">
      <%= decidim_form_for form, url: election_census_path(election), method: :patch, multipart: true, html: { id: "csv-census-form" } do |form| %>
        <div class="font-semibold">
          <%= form.upload :file, button_label: t(".upload_file"), help_i18n_scope: "decidim.admin.forms.file_help.import_csv", button_class: "button button__sm button__transparent-secondary" %>
        </div>
        <div class="mt-4">
          <%= form.submit t("decidim.elections.admin.census.internal_census_fields.save"), class: "button button__sm button__secondary" %>
        </div>
      <% end %>
    </div>
  <% end %>
</div>
