<%= decidim_form_for(@form) do |f| %>
  <div class="field">
    <%= f.text_field :name, autofocus: true %>
  </div>

  <div class="field">
    <%= f.text_field :host %>
  </div>

  <div class="field">
    <%= f.text_area :secondary_hosts %>
    <p class="help-text"><%= t(".secondary_hosts_hint") %></p>
  </div>

  <div class="field">
    <%= f.label :users_registration_mode %>
    <%= f.collection_radio_buttons :users_registration_mode,
                                   Decidim::Organization.users_registration_modes,
                                   :first,
                                   ->(mode) { t("decidim.system.organizations.users_registration_mode.#{mode.first}") } %>
  </div>

  <div class="field">
    <%= f.label :available_authorizations %>
    <%= f.collection_check_boxes :available_authorizations, Decidim.authorization_workflows, :name, :description %>
  </div>

  <div class="fieldset">
    <h4><%= t(".smtp_settings") %></h4>
    <%= f.fields_for :smtp_settings do |fields| %>
      <div class="field">
        <%= f.email_field :mail_from %>
      </div>
      <div class="field">
        <%= f.text_field :username %>
      </div>
      <div class="field">
        <%= f.password_field :password %>
      </div>
      <div class="field">
        <%= f.text_field :hostname %>
      </div>
      <div class="field">
        <%= f.number_field :port %>
      </div>
    <% end %>
  </div>

  <div class="actions">
    <%= f.submit t("decidim.system.actions.save") %>
  </div>
<% end %>
