<% add_decidim_page_title(t("conversations", scope: "layouts.decidim.user_menu")) %>

<% content_for :aside do %>
  <div class="w-full flex md:flex-col items-center justify-between gap-4 md:gap-8">
    <h1 class="h3 md:h1 decorator">
      <%= t("decidim.messaging.conversations.index.title") %>
    </h1>

    <div class="flex flex-row-reverse md:flex-col gap-4 md:gap-8">
      <%= render partial: "new_conversation_button" %>

      <%= link_to decidim.conversations_path, class: "button button__lg md:button__sm button__transparent-secondary md:button__text-secondary" do %>
        <%= icon "arrow-left-line", class: "fill-current" %>
        <span class="sr-only md:not-sr-only"><%= t("decidim.messaging.conversations.show.back") %></span>
      <% end %>
    </div>
  </div>
<% end %>

<%= render layout: "layouts/decidim/shared/layout_two_col" do %>
  <div class="conversation">
    <h2 class="h4 conversation__title">
      <%= t("decidim.messaging.conversations.show.chat_with") %>
    </h2>

    <div class="conversation__participants">
      <% participants.each do |participant| %>
        <%= cell "decidim/author", present(participant) %>
      <% end %>
    </div>

    <%= yield %>
  </div>
<% end %>
